---
layout: post
title: Tomcat 8 on Debian Jessie with PSI Probe and OpenNMS to monitor performance
  (Part 2)
date: '2015-07-01T17:47:00.002+02:00'
author: Gerald O'Sullivan
tags:
- Tomcat 8
- PSI Probe
- Debian Jessie
- OpenNMS
modified_time: '2015-07-04T10:42:43.506+02:00'
thumbnail: http://3.bp.blogspot.com/-PZA5LlW0Hvs/VZJ2lrVD_sI/AAAAAAAABG8/GV1P0CCWROQ/s72-c/LambdaProbe.jpg
blogger_id: tag:blogger.com,1999:blog-5063526183496324043.post-4785552477886386083
blogger_orig_url: https://surfacedetail.blogspot.com/2015/07/tomcat-8-on-debian-jessie-with-psi.html
---

In <a href="http://surfacedetail.blogspot.com/2015/06/tomcat-8-on-debian-jessie-with-psi.html">Part 1</a> of this series of three, I looked at the installation of Tomcat 8 on Debian Jessie. The standard Tomcat Manager web application is limited in functionality, and the look-and-feel is distinctly lacking, so here is <a href="https://github.com/psi-probe">PSI Probe</a> instead.<br /><br /><h3>PSI Probe features</h3>PSI Probe supplements the basic functionality of Tomcat Manager with a number of <a href="https://github.com/psi-probe/psi-probe/wiki/Features">very useful features</a>, including:<br /><ul><li>real-time monitoring of request traffic on the Connectors, from any Remote IP, or per application;</li><li>viewing of Data Source pool usage, and query execution;</li><li>monitoring of Logs, with the ability to dynamically change log levels at runtime;</li><li>viewing the Thread execution stack, with the option of killing threads;</li><li>dashboards to monitor the JVM, showing memory usage, swap file usage and garbage collection control;</li><li>and detailed System properties data.</li></ul>PSI Probe is a fork of an older application called <a href="http://www.lambdaprobe.org/">Lambda Probe</a> that was last updated in 2006. This is a Lambda Probe:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-PZA5LlW0Hvs/VZJ2lrVD_sI/AAAAAAAABG8/GV1P0CCWROQ/s1600/LambdaProbe.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="145" src="http://3.bp.blogspot.com/-PZA5LlW0Hvs/VZJ2lrVD_sI/AAAAAAAABG8/GV1P0CCWROQ/s400/LambdaProbe.jpg" width="400" /></a></div><br /><h3>Installing PSI Probe</h3>You have to build PSI Probe from the source code because it is not available as a Debian package. It is a Java application, so it is a simple matter of cloning the project from GitHub and running Maven:<br /><pre class="prettyprint"># git clone https://github.com/psi-probe/psi-probe<br /></pre>Check that you are using Maven 3, and upgrade if necessary, because the build will fail if you use Maven 2. Don't forget to purge maven2 if you have to upgrade.<br /><pre class="prettyprint"># mvn -version<br />Apache Maven 3.0.5<br />Maven home: /usr/share/maven<br />Java version: 1.7.0_79, vendor: Oracle Corporation<br />Java home: /usr/lib/jvm/java-7-openjdk-amd64/jre<br />Default locale: en_ZA, platform encoding: UTF-8<br />OS name: "linux", version: "3.16.0-4-amd64", arch: "amd64", family: "unix"<br /></pre>If all is well, change to the PSI Probe directory and build the WAR file:<b></b><br /><pre class="prettyprint"># cd psi-probe<br /># mvn package<br /></pre>The build will take some time the first time that you run it, because of all the JARs that must be downloaded from Maven Central to your local repository.<br /><br />When it is done, use the Tomcat manager to deploy the war. Browse to <b>http://my-server-IP:8080/manager</b>, login with the same manager-gui role  that you created in Part 1, scroll down to the section titled "Deploy" and use the option "Select WAR file to upload" to deploy the WAR file which you will find at <b>psi-probe/web/target/probe.war</b>.<br /><br />Once it is deployed, browse to <b>http://my-server-IP:8080/probe</b>, login with the same manager-gui role, and dig around your Tomcat 8 installation. Much better looking, isn't it?<br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Bl1FjoN7QpM/VZK1Jj_gkRI/AAAAAAAABHc/RyRGIEGaoqQ/s1600/Probe.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="157" src="http://4.bp.blogspot.com/-Bl1FjoN7QpM/VZK1Jj_gkRI/AAAAAAAABHc/RyRGIEGaoqQ/s640/Probe.png" width="544" /></a></div><br />In <a href="http://surfacedetail.blogspot.com/2015/07/tomcat-8-on-debian-jessie-with-psi_4.html">Part 3</a>, the last of this series, I will explain how OpenNMS can be used with SNMP to monitor Tomcat 8 and generate exceptions if any thresholds are exceeded.   